<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title></title>
</head>
<body>
  <a href="javascript:;" id="back">-10 minutes</a>
  <a href="javascript:;" id="forward">+10 minutes</a><br>
  <img id="graph" src="" alt="">

  <script src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
  <script type="text/javascript">
    $(function() {
      var graph = $("#graph");
      var graphUrl = "https://www.hostedgraphite.com/32297e36/graphite/render/?width=640&height=480&target=test&title=test&bgcolor=rose&fgcolor=black&lineMode=connected&lineWidth=4&colorList=red,orange,green";
      var fromTime = -10;
      var untilTime = 0;

      function redrawGraph() {
        var fromTimeString = fromTime != 0 ? fromTime.toString() + "minutes" : "now";
        var untilTimeString = untilTime != 0 ? untilTime.toString() + "minutes" : "now";
        graph.attr("src", graphUrl + "&from=" + fromTimeString + "&until=" + untilTimeString);
      }

      $("#back").click(function(e) {
        e.preventDefault();
        fromTime = fromTime - 10;
        untilTime = untilTime - 10;
        redrawGraph();
      });

      $("#forward").click(function(e) {
        e.preventDefault();
        fromTime = fromTime + 10;
        untilTime = untilTime + 10;
        redrawGraph();
      });

      redrawGraph();
    });
  </script>
</body>
</html>
